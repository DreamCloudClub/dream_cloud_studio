# Dream Cloud Studio â€” System Design v3

**Desktop Application** â€” Free download for Windows, macOS, Linux

---

## A. SYSTEM ARCHITECTURE

### Layer Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           DREAM CLOUD STUDIO                                â”‚
â”‚                  Desktop App (Tauri) â€” Dark Mode Native                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                         AUTH LAYER                                   â”‚   â”‚
â”‚  â”‚   Sign Up / Sign In â”‚ OAuth (Google, GitHub) â”‚ Session Management   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         â”‚                                                                   â”‚
â”‚         â–¼                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                         DASHBOARD                                    â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚ + New       â”‚  â”‚ Recent      â”‚  â”‚ Recent Assets â”‚ All Assets  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚   Project   â”‚  â”‚ Projects    â”‚  â”‚ + New Asset                 â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         â”‚                           â”‚                                       â”‚
â”‚         â–¼                           â–¼                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚  â”‚   PROJECT WORKFLOW   â”‚   â”‚ STANDALONE ASSET     â”‚                       â”‚
â”‚  â”‚   (Full Editor)      â”‚   â”‚ WORKFLOW (Mini)      â”‚                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚         â”‚                           â”‚                                       â”‚
â”‚         â–¼                           â–¼                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                       BUBBLE (Claude Code)                           â”‚   â”‚
â”‚  â”‚   Agent Runtime â”‚ Tool Execution â”‚ State Management â”‚ Generation    â”‚   â”‚
â”‚  â”‚   ğŸ¤ Voice Input + Transcription                                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         â”‚                                                                   â”‚
â”‚         â–¼                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                         STATE LAYER                                  â”‚   â”‚
â”‚  â”‚   Foundations  â”‚  Projects  â”‚  Assets  â”‚  Generation Queue          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         â”‚                                                                   â”‚
â”‚         â”‚                                                                   â”‚
â”‚         â–¼                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    CLOUD SERVICES (Internet Required)                â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  Supabase          â”‚  Claude API      â”‚  Generation APIs            â”‚   â”‚
â”‚  â”‚  - Auth            â”‚  - Bubble agent  â”‚  - Replicate (images)       â”‚   â”‚
â”‚  â”‚  - Database        â”‚  - All user      â”‚  - Runway (video)           â”‚   â”‚
â”‚  â”‚  - Storage         â”‚    interaction   â”‚  - ElevenLabs (audio)       â”‚   â”‚
â”‚  â”‚  - Usage tracking  â”‚                  â”‚                             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         â”‚                                                                   â”‚
â”‚         â–¼                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    LOCAL (Cache + Renders)                           â”‚   â”‚
â”‚  â”‚  - Asset cache (faster reload)                                       â”‚   â”‚
â”‚  â”‚  - Rendered video files                                              â”‚   â”‚
â”‚  â”‚  - FFmpeg for local video assembly                                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         â”‚                                                                   â”‚
â”‚         â–¼                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                       GENERATION LAYER                               â”‚   â”‚
â”‚  â”‚   Textâ†’Image  â”‚  Imageâ†’Video  â”‚  Textâ†’Audio  â”‚  Speechâ†’Text         â”‚   â”‚
â”‚  â”‚   (metered per generation)                                           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         â”‚                                                                   â”‚
â”‚         â–¼                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                      RENDER (Remotion)                               â”‚   â”‚
â”‚  â”‚              Timeline â†’ Composition â†’ Export                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### Two Workflows

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚                           DASHBOARD (Entry Point)                           â”‚
â”‚                                                                             â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚     â”‚                              â”‚    â”‚                                â”‚ â”‚
â”‚     â”‚     PROJECT WORKFLOW         â”‚    â”‚    STANDALONE ASSET WORKFLOW   â”‚ â”‚
â”‚     â”‚                              â”‚    â”‚                                â”‚ â”‚
â”‚     â”‚  + New Project               â”‚    â”‚  + New Asset                   â”‚ â”‚
â”‚     â”‚  Open existing project       â”‚    â”‚  Open recent asset             â”‚ â”‚
â”‚     â”‚                              â”‚    â”‚  Browse all assets             â”‚ â”‚
â”‚     â”‚          â†“                   â”‚    â”‚                                â”‚ â”‚
â”‚     â”‚                              â”‚    â”‚          â†“                     â”‚ â”‚
â”‚     â”‚  Full Editor with:           â”‚    â”‚                                â”‚ â”‚
â”‚     â”‚  - Brief                     â”‚    â”‚  Mini workflow:                â”‚ â”‚
â”‚     â”‚  - Mood Board                â”‚    â”‚  - Pick asset type             â”‚ â”‚
â”‚     â”‚  - Storyboard                â”‚    â”‚  - Bubble guides creation      â”‚ â”‚
â”‚     â”‚  - Editor (timeline)         â”‚    â”‚  - Generate / iterate          â”‚ â”‚
â”‚     â”‚  - Scene Manager             â”‚    â”‚  - Save to library             â”‚ â”‚
â”‚     â”‚  - Assets                    â”‚    â”‚                                â”‚ â”‚
â”‚     â”‚  - Render                    â”‚    â”‚  (Same generation UX as        â”‚ â”‚
â”‚     â”‚                              â”‚    â”‚   in-project asset creation)   â”‚ â”‚
â”‚     â”‚  Bottom nav appears          â”‚    â”‚                                â”‚ â”‚
â”‚     â”‚                              â”‚    â”‚  No bottom nav                 â”‚ â”‚
â”‚     â”‚                              â”‚    â”‚  No project context            â”‚ â”‚
â”‚     â”‚                              â”‚    â”‚                                â”‚ â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## B. USER & SUBSCRIPTION MODEL

### Subscription Architecture

Subscriptions are managed on the **Dream Cloud website** (not in this app). This app checks subscription status via API, similar to other Dream Cloud products (Millie Mini, etc.).

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        SUBSCRIPTION FLOW                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   DREAM CLOUD WEBSITE                         DREAM CLOUD STUDIO APP        â”‚
â”‚   (dreamcloudclub.org)                                                      â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚   â”‚                     â”‚                    â”‚                     â”‚       â”‚
â”‚   â”‚  User subscribes    â”‚                    â”‚  App loads          â”‚       â”‚
â”‚   â”‚  to Studio plan     â”‚                    â”‚                     â”‚       â”‚
â”‚   â”‚  (Lite/Basic/Ent)   â”‚                    â”‚         â”‚          â”‚       â”‚
â”‚   â”‚                     â”‚                    â”‚         â–¼          â”‚       â”‚
â”‚   â”‚  Stripe handles     â”‚                    â”‚  Check subscription â”‚       â”‚
â”‚   â”‚  payment            â”‚    â—„â”€â”€â”€ API â”€â”€â”€    â”‚  via API endpoint   â”‚       â”‚
â”‚   â”‚                     â”‚                    â”‚                     â”‚       â”‚
â”‚   â”‚  Website stores     â”‚    â”€â”€â”€ JSON â”€â”€â–º    â”‚  Receive status:    â”‚       â”‚
â”‚   â”‚  subscription in    â”‚                    â”‚  trial/lite/basic/  â”‚       â”‚
â”‚   â”‚  WordPress/DB       â”‚                    â”‚  enterprise/expired â”‚       â”‚
â”‚   â”‚                     â”‚                    â”‚                     â”‚       â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Subscription Check API

```typescript
// API Endpoint (hosted on Dream Cloud website)
const SUBSCRIPTION_API = {
  baseUrl: 'https://dreamcloudclub.org',
  endpoint: '/wp-json/dreamcloud/v1/check-studio-subscription',
};

// Request
interface SubscriptionCheckRequest {
  email: string;
}

// Response
interface SubscriptionCheckResponse {
  status: SubscriptionStatus;
  plan: 'trial' | 'lite' | 'basic' | 'enterprise' | 'none';
  message: string;
  seats?: number;                   // for enterprise
  trialDaysRemaining?: number;      // for trial
  expiresAt?: string;               // ISO timestamp
}

type SubscriptionStatus =
  | 'trial'         // 1-week free trial (auto-granted on signup)
  | 'lite'          // $20/mo - limited
  | 'basic'         // $100/mo - extended
  | 'enterprise'    // $500/mo - unlimited, 3 seats
  | 'expired'       // subscription lapsed
  | 'inactive'      // never subscribed, trial ended
  | 'pending'       // payment processing
  | 'unknown';      // API error, allow limited access
```

### User (App-Side)

```typescript
interface User {
  id: string;
  email: string;
  name: string;
  avatarUrl: string | null;

  // Auth (via Supabase)
  authProvider: 'email' | 'google' | 'github';
  emailVerified: boolean;

  // Subscription (fetched from website API)
  subscription: SubscriptionInfo;

  // Preferences
  preferences: UserPreferences;

  createdAt: string;
  updatedAt: string;
}

interface SubscriptionInfo {
  status: SubscriptionStatus;
  plan: 'trial' | 'lite' | 'basic' | 'enterprise' | 'none';
  seats: number;                    // 1 for lite/basic, 3 for enterprise
  trialDaysRemaining: number | null;
  expiresAt: string | null;
  lastCheckedAt: string;            // when we last called the API
}

interface UserPreferences {
  theme: 'dark';                    // dark mode only in v1
  defaultPlatform: string;
  defaultAspectRatio: string;
  voiceInputEnabled: boolean;
  defaultVoice: string | null;
}
```

### Subscription Plans

| Plan | Price | Images/mo | Videos/mo | Audio/mo | Storage | Projects | 4K | Seats |
|------|-------|-----------|-----------|----------|---------|----------|-----|-------|
| **Trial** | Free (7 days) | 20 | 5 | 5 min | 500 MB | 1 | No | 1 |
| **Lite** | $20/mo | 100 | 25 | 30 min | 5 GB | 5 | No | 1 |
| **Basic** | $100/mo | 500 | 150 | 120 min | 50 GB | Unlimited | Yes | 1 |
| **Enterprise** | $500/mo | Unlimited | Unlimited | Unlimited | 500 GB | Unlimited | Yes | 3 |

```typescript
const PLAN_LIMITS: Record<string, PlanLimits> = {
  trial: {
    maxImagesPerMonth: 20,
    maxVideosPerMonth: 5,
    maxAudioMinutesPerMonth: 5,
    maxStorageBytes: 500 * 1024 * 1024,       // 500 MB
    maxProjects: 1,
    maxFoundations: 1,
    canExport4K: false,
    seats: 1,
    trialDays: 7,
  },
  lite: {
    maxImagesPerMonth: 100,
    maxVideosPerMonth: 25,
    maxAudioMinutesPerMonth: 30,
    maxStorageBytes: 5 * 1024 * 1024 * 1024,  // 5 GB
    maxProjects: 5,
    maxFoundations: 3,
    canExport4K: false,
    seats: 1,
  },
  basic: {
    maxImagesPerMonth: 500,
    maxVideosPerMonth: 150,
    maxAudioMinutesPerMonth: 120,
    maxStorageBytes: 50 * 1024 * 1024 * 1024, // 50 GB
    maxProjects: -1,                          // unlimited
    maxFoundations: -1,
    canExport4K: true,
    seats: 1,
  },
  enterprise: {
    maxImagesPerMonth: -1,                    // unlimited
    maxVideosPerMonth: -1,
    maxAudioMinutesPerMonth: -1,
    maxStorageBytes: 500 * 1024 * 1024 * 1024, // 500 GB
    maxProjects: -1,
    maxFoundations: -1,
    canExport4K: true,
    seats: 3,
  },
  none: {
    // Expired/inactive - no access
    maxImagesPerMonth: 0,
    maxVideosPerMonth: 0,
    maxAudioMinutesPerMonth: 0,
    maxStorageBytes: 0,
    maxProjects: 0,
    maxFoundations: 0,
    canExport4K: false,
    seats: 0,
  },
};

interface PlanLimits {
  maxImagesPerMonth: number;
  maxVideosPerMonth: number;
  maxAudioMinutesPerMonth: number;
  maxStorageBytes: number;
  maxProjects: number;
  maxFoundations: number;
  canExport4K: boolean;
  seats: number;
  trialDays?: number;
}
```

### Usage Tracking

Usage is tracked in Supabase (same pattern as Millie Mini).

```typescript
interface UsagePeriod {
  id: string;
  userId: string;
  userEmail: string;
  subscriptionStatus: SubscriptionStatus;
  yearMonth: string;                // '2025-01'

  // Counts
  imagesGenerated: number;
  videosGenerated: number;
  audioMinutes: number;
  storageBytes: number;

  createdAt: string;
  updatedAt: string;
}

interface UsageEvent {
  id: string;
  userId: string;
  projectId: string | null;

  eventType:
    | 'image_generated'
    | 'video_generated'
    | 'audio_generated'
    | 'render_completed';

  quantity: number;
  model: string | null;
  assetId: string | null;
  metadata: Record<string, any>;

  createdAt: string;
}
```

### Subscription Check Flow (App)

```typescript
async function checkSubscription(email: string): Promise<SubscriptionInfo> {
  try {
    const response = await fetch(
      `${SUBSCRIPTION_API.baseUrl}${SUBSCRIPTION_API.endpoint}`,
      {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ email }),
      }
    );

    if (!response.ok) {
      throw new Error(`API error: ${response.status}`);
    }

    const data = await response.json();
    return {
      status: data.status,
      plan: data.plan,
      seats: data.seats ?? 1,
      trialDaysRemaining: data.trialDaysRemaining ?? null,
      expiresAt: data.expiresAt ?? null,
      lastCheckedAt: new Date().toISOString(),
    };
  } catch (error) {
    // On error, check if user is in trial period (based on account creation)
    const trialInfo = checkTrialStatus();
    if (trialInfo) return trialInfo;

    // Otherwise return unknown (allow limited access)
    return {
      status: 'unknown',
      plan: 'none',
      seats: 1,
      trialDaysRemaining: null,
      expiresAt: null,
      lastCheckedAt: new Date().toISOString(),
    };
  }
}

function checkTrialStatus(): SubscriptionInfo | null {
  const user = supabase.auth.getUser();
  if (!user?.created_at) return null;

  const daysSinceSignup = daysSince(user.created_at);
  if (daysSinceSignup <= 7) {
    return {
      status: 'trial',
      plan: 'trial',
      seats: 1,
      trialDaysRemaining: 7 - daysSinceSignup,
      expiresAt: addDays(user.created_at, 7).toISOString(),
      lastCheckedAt: new Date().toISOString(),
    };
  }

  return null;
}
```

### Usage Limit Check (via Supabase RPC)

```typescript
async function checkUsageLimit(
  userId: string,
  userEmail: string,
  subscriptionStatus: SubscriptionStatus
): Promise<UsageCheckResult> {
  const result = await supabase.rpc('check_usage_limit', {
    p_user_id: userId,
    p_user_email: userEmail,
    p_subscription_status: subscriptionStatus,
  });

  return {
    canProceed: result.can_proceed,
    imagesUsed: result.images_used,
    imagesLimit: result.images_limit,
    videosUsed: result.videos_used,
    videosLimit: result.videos_limit,
    audioUsed: result.audio_used,
    audioLimit: result.audio_limit,
  };
}
```

---

## C. DASHBOARD UI

### Canva-Style Dashboard

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  DREAM CLOUD STUDIO                                      â”‚ ğŸ¤ â”‚ âš™ â”‚ ğŸ‘¤   â”‚ â”‚
â”‚                                                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚   â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—    â”‚   â”‚
â”‚  â”‚   â•‘                                                           â•‘    â”‚   â”‚
â”‚  â”‚   â•‘                    + CREATE NEW                           â•‘    â”‚   â”‚
â”‚  â”‚   â•‘                                                           â•‘    â”‚   â”‚
â”‚  â”‚   â•‘     Start a new video project or create a standalone     â•‘    â”‚   â”‚
â”‚  â”‚   â•‘     asset using a new or existing foundation.            â•‘    â”‚   â”‚
â”‚  â”‚   â•‘                                                           â•‘    â”‚   â”‚
â”‚  â”‚   â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•    â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  RECENT PROJECTS                                              [View All â†’] â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ â–¶       â”‚  â”‚ â–¶       â”‚  â”‚ â–¶       â”‚  â”‚ â–¶       â”‚  â”‚ â–¶       â”‚          â”‚
â”‚  â”‚ thumb   â”‚  â”‚ thumb   â”‚  â”‚ thumb   â”‚  â”‚ thumb   â”‚  â”‚ thumb   â”‚          â”‚
â”‚  â”‚         â”‚  â”‚         â”‚  â”‚         â”‚  â”‚         â”‚  â”‚         â”‚          â”‚
â”‚  â”‚ Proj 1  â”‚  â”‚ Proj 2  â”‚  â”‚ Proj 3  â”‚  â”‚ Proj 4  â”‚  â”‚ Proj 5  â”‚          â”‚
â”‚  â”‚ 2h ago  â”‚  â”‚ 1d ago  â”‚  â”‚ 3d ago  â”‚  â”‚ 1w ago  â”‚  â”‚ 2w ago  â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                             â”‚
â”‚  RECENT ASSETS                                                [View All â†’] â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ ğŸ–¼      â”‚  â”‚ ğŸ¬      â”‚  â”‚ ğŸ”Š      â”‚  â”‚ ğŸ–¼      â”‚  â”‚ ğŸ¬      â”‚          â”‚
â”‚  â”‚ thumb   â”‚  â”‚ thumb   â”‚  â”‚ wave    â”‚  â”‚ thumb   â”‚  â”‚ thumb   â”‚          â”‚
â”‚  â”‚         â”‚  â”‚         â”‚  â”‚         â”‚  â”‚         â”‚  â”‚         â”‚          â”‚
â”‚  â”‚ Hero    â”‚  â”‚ Intro   â”‚  â”‚ VO Take â”‚  â”‚ BG      â”‚  â”‚ Product â”‚          â”‚
â”‚  â”‚ 1h ago  â”‚  â”‚ 2h ago  â”‚  â”‚ 3h ago  â”‚  â”‚ 1d ago  â”‚  â”‚ 2d ago  â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                             â”‚
â”‚  FOUNDATIONS                                                   [View All â†’] â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                     â”‚
â”‚  â”‚ Brand A â”‚  â”‚ Brand B â”‚  â”‚ Product â”‚                                     â”‚
â”‚  â”‚ Videos  â”‚  â”‚ Stories â”‚  â”‚ Demos   â”‚                                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                     â”‚
â”‚                                                                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                             â”‚
â”‚  USAGE THIS MONTH                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Images: 82/500  â”‚  Videos: 45/150  â”‚  Storage: 12/50 GB  â”‚ [Basic] â”‚   â”‚
â”‚  â”‚                                                          [Upgrade â†’]â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Create New Flow (Unified)

**Step 1: What are you creating?**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Create New                                                      [Ã— Close] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  What would you like to create?                                             â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                   â”‚  â”‚                               â”‚  â”‚
â”‚  â”‚         ğŸ¬  PROJECT               â”‚  â”‚         ğŸ–¼  ASSET             â”‚  â”‚
â”‚  â”‚                                   â”‚  â”‚                               â”‚  â”‚
â”‚  â”‚  A full video production with     â”‚  â”‚  A standalone image, video,  â”‚  â”‚
â”‚  â”‚  brief, storyboard, scenes,       â”‚  â”‚  or audio file.              â”‚  â”‚
â”‚  â”‚  and timeline.                    â”‚  â”‚                               â”‚  â”‚
â”‚  â”‚                                   â”‚  â”‚                               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Step 2: Choose Foundation (same for both Project and Asset)**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Create New Project                                    [â† Back]  [Ã— Close] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  How would you like to start?                                               â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                   â”‚  â”‚                               â”‚  â”‚
â”‚  â”‚      âœ¨  NEW FOUNDATION           â”‚  â”‚   ğŸ“‚  EXISTING FOUNDATION    â”‚  â”‚
â”‚  â”‚                                   â”‚  â”‚                               â”‚  â”‚
â”‚  â”‚  Start fresh. Bubble will         â”‚  â”‚  Use a saved foundation to   â”‚  â”‚
â”‚  â”‚  guide you through building       â”‚  â”‚  jumpstart with existing     â”‚  â”‚
â”‚  â”‚  a reusable creative base.        â”‚  â”‚  visual/audio direction.     â”‚  â”‚
â”‚  â”‚                                   â”‚  â”‚                               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**If Existing Foundation selected:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Create New Project                                    [â† Back]  [Ã— Close] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  Select a foundation:                                                       â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚   â”‚
â”‚  â”‚  â”‚ Brand A â”‚  â”‚ Brand B â”‚  â”‚ Product â”‚  â”‚ Social  â”‚               â”‚   â”‚
â”‚  â”‚  â”‚ Videos  â”‚  â”‚ Stories â”‚  â”‚ Demos   â”‚  â”‚ Clips   â”‚               â”‚   â”‚
â”‚  â”‚  â”‚         â”‚  â”‚         â”‚  â”‚         â”‚  â”‚         â”‚               â”‚   â”‚
â”‚  â”‚  â”‚ 5 uses  â”‚  â”‚ 3 uses  â”‚  â”‚ 12 uses â”‚  â”‚ 8 uses  â”‚               â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚                                              [Create Project â†’]            â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**For Asset + New Foundation â†’ Mini Foundation Flow:**

When creating an asset with a new foundation, Bubble runs a condensed version:
- Visual style only (no narrative structure needed for single assets)
- Saves as a new foundation for reuse

**For Asset + Existing Foundation:**

Bubble inherits the visual/audio direction from the foundation and jumps straight into asset creation.

### User Menu (Top Right)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ‘¤ Jane Smith                 â”‚
â”‚  jane@company.com              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âš™  Settings                   â”‚
â”‚  ğŸ“Š  Usage & Billing           â”‚
â”‚  ğŸ¨  Manage Foundations        â”‚
â”‚  ğŸ“  All Projects              â”‚
â”‚  ğŸ–¼  All Assets                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸšª  Sign Out                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## D. STANDALONE ASSET WORKFLOW

When user selects Asset in Create New flow:

### Step 1: Choose Asset Type

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                          [â† Back to Home]  â”‚
â”‚  What would you like to create?                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚                 â”‚  â”‚                 â”‚  â”‚                 â”‚             â”‚
â”‚  â”‚    ğŸ–¼ IMAGE     â”‚  â”‚    ğŸ¬ VIDEO     â”‚  â”‚    ğŸ”Š AUDIO     â”‚             â”‚
â”‚  â”‚                 â”‚  â”‚                 â”‚  â”‚                 â”‚             â”‚
â”‚  â”‚  Generate a     â”‚  â”‚  Generate a     â”‚  â”‚  Generate       â”‚             â”‚
â”‚  â”‚  still image    â”‚  â”‚  video clip     â”‚  â”‚  music, VO,     â”‚             â”‚
â”‚  â”‚                 â”‚  â”‚                 â”‚  â”‚  or SFX         â”‚             â”‚
â”‚  â”‚                 â”‚  â”‚                 â”‚  â”‚                 â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Step 2: Bubble Mini-Workflow (Image Example)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  New Image                                               [â† Back] [Cancel] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                  â”‚                                          â”‚
â”‚  BUBBLE                          â”‚           PREVIEW / OPTIONS              â”‚
â”‚                                  â”‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                            â”‚  â”‚   â”‚                                  â”‚  â”‚
â”‚  â”‚  What would you like to    â”‚  â”‚   â”‚                                  â”‚  â”‚
â”‚  â”‚  create?                   â”‚  â”‚   â”‚      (Generated options          â”‚  â”‚
â”‚  â”‚                            â”‚  â”‚   â”‚       appear here)               â”‚  â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚  â”‚   â”‚                                  â”‚  â”‚
â”‚  â”‚                            â”‚  â”‚   â”‚                                  â”‚  â”‚
â”‚  â”‚  USER: A hero shot of a    â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”‚  coffee cup, morning       â”‚  â”‚                                          â”‚
â”‚  â”‚  light, minimal style      â”‚  â”‚   ASPECT RATIO                          â”‚
â”‚  â”‚                            â”‚  â”‚   â—‹ 16:9  â—‹ 9:16  â—‹ 1:1  â—‹ 4:5         â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚  â”‚                                          â”‚
â”‚  â”‚                            â”‚  â”‚   STYLE                                  â”‚
â”‚  â”‚  BUBBLE: Nice. Let me      â”‚  â”‚   [Photography â–¼]                       â”‚
â”‚  â”‚  clarify a few things:     â”‚  â”‚                                          â”‚
â”‚  â”‚                            â”‚  â”‚                                          â”‚
â”‚  â”‚  - Indoor or outdoor?      â”‚  â”‚                                          â”‚
â”‚  â”‚  - What surface is the     â”‚  â”‚                                          â”‚
â”‚  â”‚    cup on?                 â”‚  â”‚                                          â”‚
â”‚  â”‚  - Any steam visible?      â”‚  â”‚                                          â”‚
â”‚  â”‚  - Brand/logo on cup?      â”‚  â”‚                                          â”‚
â”‚  â”‚                            â”‚  â”‚                                          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                                          â”‚
â”‚                                  â”‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚         [Generate 4 Options]            â”‚
â”‚  â”‚ ğŸ¤ â”‚ Type or speak...     â”‚  â”‚                                          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                                          â”‚
â”‚                                  â”‚                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                     [Save to Library]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Asset Type Variations

**Video:**
- Same as image, but includes motion/action questions
- Duration selector (3s, 5s, 10s)
- Camera motion options
- Can start from existing image

**Audio:**
- Subtype picker: Music | Voiceover | Ambience | SFX
- Music: mood, tempo, duration, instruments
- Voiceover: script input, voice selection, tone
- Ambience: environment, intensity
- SFX: description, duration

---

## E. VOICE INPUT

### Voice Input System

```typescript
interface VoiceInputConfig {
  enabled: boolean;
  autoTranscribe: boolean;          // start transcribing on mic activation
  language: string;                  // 'en-US', 'es-ES', etc.
  punctuate: boolean;
  filterProfanity: boolean;
}

interface TranscriptionResult {
  text: string;
  confidence: number;
  isFinal: boolean;
  alternatives: string[];
}
```

### UI Integration

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                â”‚
â”‚  BUBBLE INPUT                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  Type your message...                            ğŸ¤  â  â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                â”‚
â”‚  When ğŸ¤ is pressed:                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  ğŸ”´ Listening...  "A wide shot of a city at..."   [Stop] â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Implementation

- **Browser API**: Web Speech API for basic transcription (free, works offline)
- **Enhanced**: Whisper API for higher accuracy (metered, cloud)
- **Fallback**: Graceful degradation if mic not available
- **Privacy**: Audio never stored unless explicitly recording for VO

---

## F. BUBBLE / CLAUDE CODE INTEGRATION

### Agent Architecture

Bubble is powered by Claude Code running in the app. It has full agent capabilities.

```typescript
interface BubbleAgent {
  // Core
  conversationId: string;
  userId: string;
  projectId: string | null;         // null in standalone mode
  mode: BubbleMode;

  // Context
  currentPage: EditorPage | 'dashboard' | 'standalone-asset';
  selectedItemId: string | null;
  projectState: Project | null;

  // Capabilities
  tools: BubbleTool[];
}

type BubbleMode =
  | 'dashboard'                     // browsing, light assistance
  | 'foundation-creation'           // 6-step guided flow
  | 'brief-development'
  | 'mood-board'
  | 'storyboarding'
  | 'scene-planning'
  | 'shot-detailing'
  | 'asset-generation'              // both in-project and standalone
  | 'timeline-assembly'
  | 'render-prep';

type BubbleTool =
  // State mutations
  | 'create_project'
  | 'update_project'
  | 'create_foundation'
  | 'update_foundation'
  | 'create_scene'
  | 'update_scene'
  | 'create_shot'
  | 'update_shot'
  | 'create_asset'
  | 'update_asset'
  | 'delete_entity'

  // Generation
  | 'generate_image'
  | 'generate_video'
  | 'generate_audio'
  | 'generate_voiceover'
  | 'transcribe_audio'

  // Timeline
  | 'add_to_timeline'
  | 'remove_from_timeline'
  | 'adjust_timeline_item'
  | 'auto_arrange_timeline'

  // Navigation
  | 'navigate_to_page'
  | 'select_item'
  | 'open_inspector'

  // Render
  | 'start_render'
  | 'cancel_render'

  // User
  | 'check_usage'
  | 'get_user_preferences';
```

### Tool Execution Flow

```
USER INPUT (text or voice)
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TRANSCRIBE      â”‚  (if voice)
â”‚ (Whisper)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CLAUDE CODE     â”‚
â”‚                 â”‚
â”‚ - Parse intent  â”‚
â”‚ - Check context â”‚
â”‚ - Plan actions  â”‚
â”‚ - Execute tools â”‚
â”‚ - Compose reply â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                                  â”‚
         â–¼                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STATE UPDATE    â”‚              â”‚ GENERATION      â”‚
â”‚ (immediate)     â”‚              â”‚ (async queue)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                                  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚ UI UPDATE       â”‚
                 â”‚ + RESPONSE      â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## G. UPDATED DATA MODEL

### Asset (updated for standalone support)

```typescript
interface Asset {
  id: string;
  userId: string;                   // owner
  projectId: string | null;         // NULL for standalone assets

  type: 'image' | 'video' | 'audio';
  audioSubtype?: 'voiceover' | 'music' | 'ambience' | 'sfx';

  source: 'generated' | 'imported';
  status: 'pending' | 'generating' | 'ready' | 'failed';

  // Storage
  url: string;                      // S3 URL
  thumbnailUrl: string | null;
  fileSizeBytes: number;

  // Metadata
  name: string;
  prompt: string | null;
  model: string | null;
  duration: number | null;          // seconds, for video/audio
  width: number | null;
  height: number | null;

  // Usage
  usedInProjects: string[];         // project IDs where this is used
  usedInShots: string[];
  usedInTimeline: boolean;

  // Organization
  tags: string[];
  isFavorite: boolean;

  createdAt: string;
  updatedAt: string;
}
```

### Project (updated with userId)

```typescript
interface Project {
  id: string;
  userId: string;                   // owner
  name: string;
  foundationId: string | null;

  status: 'draft' | 'in-progress' | 'complete' | 'archived';

  brief: Brief;
  moodBoard: MoodBoard;
  storyboard: Storyboard;
  scenes: Scene[];
  timeline: Timeline;
  renderSettings: RenderSettings;

  // Render outputs
  renders: Render[];

  createdAt: string;
  updatedAt: string;
  lastOpenedAt: string;
}

interface Render {
  id: string;
  projectId: string;
  status: 'queued' | 'rendering' | 'complete' | 'failed';
  progress: number;                 // 0-100
  settings: RenderSettings;
  outputUrl: string | null;
  errorMessage: string | null;
  startedAt: string | null;
  completedAt: string | null;
}
```

---

## H. PROJECT EDITOR LAYOUT (Updated)

When inside a project, the full editor appears:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [â† Dashboard]   Project Name                              ğŸ¤  âš™  ğŸ‘¤       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                â”‚                                        â”‚                   â”‚
â”‚    BUBBLE      â”‚           MAIN CONTENT AREA            â”‚    INSPECTOR      â”‚
â”‚    PANEL       â”‚                                        â”‚                   â”‚
â”‚                â”‚   (changes based on nav selection)     â”‚   (contextual     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                                        â”‚    details)       â”‚
â”‚  â”‚          â”‚  â”‚   Brief â†’ form/conversation            â”‚                   â”‚
â”‚  â”‚  Chat    â”‚  â”‚   Mood Board â†’ reference grid          â”‚                   â”‚
â”‚  â”‚  with    â”‚  â”‚   Storyboard â†’ act/scene cards         â”‚                   â”‚
â”‚  â”‚  Bubble  â”‚  â”‚   Editor â†’ TIMELINE + PREVIEW          â”‚                   â”‚
â”‚  â”‚          â”‚  â”‚   Scene Mgr â†’ nested tree              â”‚                   â”‚
â”‚  â”‚          â”‚  â”‚   Assets â†’ library grid                â”‚                   â”‚
â”‚  â”‚          â”‚  â”‚   Render â†’ export settings             â”‚                   â”‚
â”‚  â”‚          â”‚  â”‚                                        â”‚                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                                        â”‚                   â”‚
â”‚                â”‚                                        â”‚                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                                        â”‚                   â”‚
â”‚  â”‚ ğŸ¤ â”‚ ... â”‚  â”‚                                        â”‚                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                                        â”‚                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”‚ Brief  â”‚ â”‚Mood Boardâ”‚ â”‚ Storyboard â”‚ â”‚ EDITOR â”‚ â”‚Scene Mgr  â”‚ â”‚ Assets â”‚ â”‚ Render â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚                           BOTTOM NAVIGATION (floating, rounded)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Key difference from Dashboard:**
- `[â† Dashboard]` button in top-left to exit project
- Bottom nav only appears in project context
- Full Bubble panel with project awareness

---

## I. DATABASE SCHEMA (Postgres via Supabase)

```sql
-- Users (extends Supabase auth.users)
CREATE TABLE user_profiles (
  id UUID PRIMARY KEY REFERENCES auth.users(id) ON DELETE CASCADE,
  email TEXT UNIQUE NOT NULL,
  name TEXT NOT NULL,
  avatar_url TEXT,

  -- Subscription (cached from website API)
  subscription_status TEXT DEFAULT 'unknown',
  subscription_plan TEXT DEFAULT 'none',
  subscription_seats INT DEFAULT 1,
  subscription_expires_at TIMESTAMPTZ,
  subscription_checked_at TIMESTAMPTZ,

  -- Preferences
  preferences JSONB DEFAULT '{"theme": "dark"}',

  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- Usage tracking (monthly)
CREATE TABLE usage_periods (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES user_profiles(id) ON DELETE CASCADE,
  user_email TEXT NOT NULL,
  subscription_status TEXT NOT NULL,
  year_month TEXT NOT NULL,           -- '2025-01'

  images_generated INT DEFAULT 0,
  videos_generated INT DEFAULT 0,
  audio_minutes DECIMAL DEFAULT 0,
  storage_bytes BIGINT DEFAULT 0,

  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW(),

  UNIQUE(user_id, year_month)
);

-- Usage events (detailed log)
CREATE TABLE usage_events (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES user_profiles(id) ON DELETE CASCADE,
  project_id UUID,
  event_type TEXT NOT NULL,
  quantity DECIMAL NOT NULL,
  model TEXT,
  asset_id UUID,
  metadata JSONB DEFAULT '{}',
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- Foundations
CREATE TABLE foundations (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,
  name TEXT NOT NULL,
  purpose JSONB NOT NULL,
  narrative JSONB NOT NULL,
  visual JSONB NOT NULL,
  audio JSONB NOT NULL,
  default_elements JSONB DEFAULT '[]',
  is_archived BOOLEAN DEFAULT FALSE,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- Projects
CREATE TABLE projects (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,
  foundation_id UUID REFERENCES foundations(id) ON DELETE SET NULL,
  name TEXT NOT NULL,
  status TEXT DEFAULT 'draft',
  brief JSONB DEFAULT '{}',
  mood_board JSONB DEFAULT '{}',
  storyboard JSONB DEFAULT '{}',
  scenes JSONB DEFAULT '[]',
  timeline JSONB DEFAULT '{}',
  render_settings JSONB DEFAULT '{}',
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW(),
  last_opened_at TIMESTAMPTZ DEFAULT NOW()
);

-- Assets (supports both project and standalone)
CREATE TABLE assets (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,
  project_id UUID REFERENCES projects(id) ON DELETE SET NULL,  -- NULL = standalone
  type TEXT NOT NULL,
  audio_subtype TEXT,
  source TEXT NOT NULL,
  status TEXT DEFAULT 'pending',
  url TEXT,
  thumbnail_url TEXT,
  file_size_bytes BIGINT DEFAULT 0,
  name TEXT,
  prompt TEXT,
  model TEXT,
  duration DECIMAL,
  width INT,
  height INT,
  tags TEXT[] DEFAULT '{}',
  is_favorite BOOLEAN DEFAULT FALSE,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- Renders
CREATE TABLE renders (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  project_id UUID REFERENCES projects(id) ON DELETE CASCADE,
  status TEXT DEFAULT 'queued',
  progress INT DEFAULT 0,
  settings JSONB NOT NULL,
  output_url TEXT,
  error_message TEXT,
  started_at TIMESTAMPTZ,
  completed_at TIMESTAMPTZ,
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- Indexes
CREATE INDEX idx_projects_user ON projects(user_id);
CREATE INDEX idx_projects_last_opened ON projects(user_id, last_opened_at DESC);
CREATE INDEX idx_assets_user ON assets(user_id);
CREATE INDEX idx_assets_project ON assets(project_id);
CREATE INDEX idx_assets_standalone ON assets(user_id) WHERE project_id IS NULL;
CREATE INDEX idx_usage_events_user ON usage_events(user_id, created_at DESC);
```

---

## J. BUBBLE QUESTIONING PLAYBOOK (Standalone Asset Mode)

### IMAGE

**Fillable Slots:**

| Slot | Required | Default |
|------|----------|---------|
| Subject | Yes | â€” |
| Style | Yes | "photorealistic" |
| Aspect ratio | Yes | 16:9 |
| Lighting | No | "natural" |
| Environment | No | inferred |
| Color mood | No | inferred |

**Bubble Must Confirm:**
- What's the main subject?
- What style? (photo, illustration, 3D, etc.)

**Conditional Follow-ups:**

| If user says... | Bubble asks... |
|-----------------|----------------|
| "Coffee cup" | "Indoor or outdoor? What surface? Steam visible? Any branding?" |
| "City skyline" | "Which city (or generic)? Time of day? Weather? Street level or aerial?" |
| "Portrait" | "Who? Age/look? Expression? Background? Formal or candid?" |

---

### VIDEO

**Fillable Slots:**

| Slot | Required | Default |
|------|----------|---------|
| Subject | Yes | â€” |
| Action/motion | Yes | â€” |
| Duration | Yes | 5 seconds |
| Style | Yes | "cinematic" |
| Camera motion | No | "static" |

**Bubble Must Confirm:**
- What's happening in the video?
- How long should it be?

**Conditional Follow-ups:**

| If user says... | Bubble asks... |
|-----------------|----------------|
| "Person walking" | "Where? Toward or away from camera? Speed? What are they wearing?" |
| "Product spin" | "What product? Full 360 or partial? Background color? Dramatic or clean?" |
| "Nature scene" | "Specific location? Weather? Time of day? Any wildlife?" |

---

### AUDIO â€” Music

**Fillable Slots:**

| Slot | Required | Default |
|------|----------|---------|
| Mood | Yes | â€” |
| Duration | Yes | 30 seconds |
| Tempo | No | "medium" |
| Instruments | No | inferred |
| Genre | No | inferred |

**Bubble Must Confirm:**
- What mood should this convey?
- How long?

---

### AUDIO â€” Voiceover

**Fillable Slots:**

| Slot | Required | Default |
|------|----------|---------|
| Script | Yes | â€” |
| Voice type | Yes | "neutral professional" |
| Tone | Yes | inferred from script |
| Pacing | No | "natural" |

**Bubble Must Confirm:**
- What should the voiceover say?
- What voice style?

---

### AUDIO â€” Ambience

**Fillable Slots:**

| Slot | Required | Default |
|------|----------|---------|
| Environment | Yes | â€” |
| Intensity | No | "medium" |
| Duration | Yes | 30 seconds |

---

### AUDIO â€” SFX

**Fillable Slots:**

| Slot | Required | Default |
|------|----------|---------|
| Sound description | Yes | â€” |
| Duration | No | 2 seconds |

---

## K. CREATION WORKFLOWS (Updated v3.1)

### Dashboard Entry Point

The dashboard now features a unified creation entry with:
1. **Prompt Input** - Text field with mic button for voice input
2. **Two Workflow Cards**:
   - **New Project** (Sky Blue) - Full production pipeline
   - **New Asset** (Dark Orange) - Standalone asset creation

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DASHBOARD - CREATE NEW SECTION                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  [ğŸ¤] What would you like to create?                                â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ğŸ¬ NEW PROJECT             â”‚    â”‚  ğŸ“¦ NEW ASSET                   â”‚    â”‚
â”‚  â”‚  (Sky Blue Gradient)        â”‚    â”‚  (Dark Orange Gradient)         â”‚    â”‚
â”‚  â”‚                             â”‚    â”‚                                 â”‚    â”‚
â”‚  â”‚  Full video production      â”‚    â”‚  Create standalone image,       â”‚    â”‚
â”‚  â”‚  with brief, storyboard,    â”‚    â”‚  video, audio, or platform.     â”‚    â”‚
â”‚  â”‚  scenes, and timeline.      â”‚    â”‚                                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### NEW PROJECT WORKFLOW (Full Production Pipeline)

When user clicks "New Project", they enter a multi-step wizard at `/create/project`.

**Route:** `/create/project`

**Layout:**
- Left panel: Bubble chat (guides user through each step)
- Main area: Step content (forms, selections)
- Bottom: Step timeline with icons (clickable, can go back)

**Production Phases:**

```
PRE-PRODUCTION
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BRIEF   â”‚ â†’  â”‚   MOOD   â”‚ â†’  â”‚  STORY   â”‚ â†’  â”‚  SCENES  â”‚
â”‚   ğŸ“     â”‚    â”‚  BOARD   â”‚    â”‚  BOARD   â”‚    â”‚ & SHOTS  â”‚
â”‚          â”‚    â”‚   ğŸ¨     â”‚    â”‚   ğŸ“–     â”‚    â”‚   ğŸ¬     â”‚
â”‚ Goals,   â”‚    â”‚ Visual   â”‚    â”‚ Narrativeâ”‚    â”‚ Claude   â”‚
â”‚ audience â”‚    â”‚ refs &   â”‚    â”‚ structureâ”‚    â”‚ generatesâ”‚
â”‚ tone     â”‚    â”‚ style    â”‚    â”‚ & flow   â”‚    â”‚ shot listâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                      â”‚
PRODUCTION ("FILMING")                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  For each shot in the shot list:                                            â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚  ğŸ¨ GENERATE     â”‚  â”‚  ğŸ“ FROM ASSETS  â”‚  â”‚  ğŸ“¤ UPLOAD       â”‚          â”‚
â”‚  â”‚  Prompt AI to    â”‚  â”‚  Select from     â”‚  â”‚  Upload from     â”‚          â”‚
â”‚  â”‚  create media    â”‚  â”‚  asset library   â”‚  â”‚  computer        â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                             â”‚
â”‚  Progress: Shot 1 â†’ Shot 2 â†’ Shot 3 â†’ ... â†’ Shot N                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                      â”‚
POST-PRODUCTION (AUDIO)                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    VOICEOVER     â”‚  â”‚    SOUNDTRACK    â”‚  â”‚   SOUND EFFECTS  â”‚
â”‚      ğŸ™ï¸         â”‚  â”‚       ğŸµ         â”‚  â”‚        ğŸ”Š        â”‚
â”‚  Per scene       â”‚  â”‚  Project music   â”‚  â”‚  As needed       â”‚
â”‚  (optional)      â”‚  â”‚                  â”‚  â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                      â”‚
ASSEMBLY                                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ… CONFIRM & REVIEW  â†’  ğŸ¤– CLAUDE CODE ASSEMBLES RAW EDIT                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                      â”‚
                                                      â–¼
                                              WORKSPACE (Edit Mode)
                                              /project/:id
```

**Step Timeline Component:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â— Brief  â†’  â—‹ Mood  â†’  â—‹ Story  â†’  â—‹ Shots  â†’  â—‹ Film  â†’  â—‹ Audio  â†’  â—‹ âœ“ â”‚
â”‚     ğŸ“          ğŸ¨         ğŸ“–          ğŸ¬         ğŸ¥         ğŸ”Š          âœ¨   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

During "Film" phase, show sub-progress: "Shot 3 of 12"
During "Audio" phase, show sub-steps: "Voiceover" | "Soundtrack" | "SFX"
```

### NEW ASSET WORKFLOW (Standalone Assets)

When user clicks "New Asset", they see a grid of asset types at `/create/asset`.

**Route:** `/create/asset`

**Asset Type Grid:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Create New Asset                                          [â† Back to Home] â”‚
â”‚  Select an asset type:                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚        â”‚
â”‚  â”‚   ğŸ–¼ï¸ IMAGE  â”‚  â”‚   ğŸ¬ VIDEO  â”‚  â”‚   ğŸµ AUDIO  â”‚  â”‚  ğŸ¯ PLATFORM â”‚        â”‚
â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚        â”‚
â”‚  â”‚  Generate   â”‚  â”‚  Generate   â”‚  â”‚  Music, VO, â”‚  â”‚  Reusable   â”‚        â”‚
â”‚  â”‚  still      â”‚  â”‚  video      â”‚  â”‚  SFX,       â”‚  â”‚  style      â”‚        â”‚
â”‚  â”‚  images     â”‚  â”‚  clips      â”‚  â”‚  ambience   â”‚  â”‚  template   â”‚        â”‚
â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Asset Types:**
| Type | Icon | Description | Sub-types |
|------|------|-------------|-----------|
| Image | ğŸ–¼ï¸ | Still images | Photo, Illustration, 3D render |
| Video | ğŸ¬ | Video clips | Footage, Animation, Motion graphics |
| Audio | ğŸµ | Sound files | Music, Voiceover, SFX, Ambience |
| Platform | ğŸ¯ | Style template | Visual direction, brand guidelines |

**Individual Asset Creation Page:**
When an asset type is selected, navigate to `/create/asset/:type` (e.g., `/create/asset/image`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Create New Image                                    [â† Back]    [Cancel]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                            â”‚                                                â”‚
â”‚   BUBBLE CHAT              â”‚           ASSET CREATION                       â”‚
â”‚                            â”‚                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                      â”‚  â”‚  â”‚                                          â”‚ â”‚
â”‚  â”‚  Bubble guides       â”‚  â”‚  â”‚         PREVIEW AREA                     â”‚ â”‚
â”‚  â”‚  through creation,   â”‚  â”‚  â”‚                                          â”‚ â”‚
â”‚  â”‚  asks clarifying     â”‚  â”‚  â”‚    (Generated options appear here)       â”‚ â”‚
â”‚  â”‚  questions           â”‚  â”‚  â”‚                                          â”‚ â”‚
â”‚  â”‚                      â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”‚                      â”‚  â”‚                                                â”‚
â”‚  â”‚                      â”‚  â”‚  OPTIONS                                       â”‚
â”‚  â”‚                      â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                      â”‚  â”‚  â”‚ Aspect: â—‹ 16:9  â—‹ 9:16  â—‹ 1:1  â—‹ 4:5  â”‚   â”‚
â”‚  â”‚                      â”‚  â”‚  â”‚ Style:  [Photography â–¼]                â”‚   â”‚
â”‚  â”‚                      â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                                                â”‚
â”‚                            â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  ğŸ¨ Generate  â”‚  ğŸ“ Library  â”‚  ğŸ“¤ Upload â”‚ â”‚
â”‚  â”‚ ğŸ¤ â”‚ Type message... â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                       [Save to Library]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### KEY INSIGHT: Embedded Asset Creation

The "New Asset" workflow is **embedded inside "New Project"** during the "Filming" phase. When creating media for each shot, the user goes through a mini version of the asset creation flow:

```
PROJECT WIZARD â†’ FILMING PHASE â†’ SHOT 3 OF 12
                                      â”‚
                                      â–¼
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚  Create media for Shot 3:   â”‚
                        â”‚                             â”‚
                        â”‚  ğŸ¨ Generate  (AI prompt)   â”‚
                        â”‚  ğŸ“ From Assets (library)   â”‚
                        â”‚  ğŸ“¤ Upload (computer)       â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

This reuses the same asset creation components, just in a different context.

### NAVIGATION ROUTES

| Route | Page | Description |
|-------|------|-------------|
| `/` | Dashboard | Home with create hero, recent items |
| `/create/project` | Project Wizard | Multi-step project creation |
| `/create/asset` | Asset Type Grid | Choose asset type |
| `/create/asset/:type` | Asset Creator | Create specific asset (image, video, audio, platform) |
| `/project/:id` | Project Workspace | Full editor with bottom nav |
| `/assets` | Asset Library | Browse all assets |
| `/platforms` | Platform Library | Browse all platforms |

### NEXT STEPS FOR IMPLEMENTATION

1. **Create Zustand stores:**
   - `useProjectWizardStore` - tracks wizard state, form data, current step
   - `useAssetCreatorStore` - tracks asset creation state

2. **Create page components:**
   - `CreateProjectWizard.tsx` - multi-step wizard
   - `CreateAssetGrid.tsx` - asset type selection
   - `CreateAsset.tsx` - individual asset creation

3. **Create shared components:**
   - `StepTimeline.tsx` - bottom step nav with icons
   - `BubblePanel.tsx` - chat sidebar
   - `AssetPicker.tsx` - Generate/Library/Upload options
   - `MediaPreview.tsx` - preview generated content

4. **Wire up routing:**
   - Add routes to App.tsx
   - Pass prompt context between pages

---

## PROMPT: BUILD NEW PROJECT WIZARD

```
Continue building Dream Cloud Studio at /home/millennial/projects/dream_cloud_studio

Reference SYSTEM_DESIGN.md Section K: CREATION WORKFLOWS for full specs.

## TASK: Build the "New Project" wizard - the film-making production pipeline

When user clicks "New Project" on the Dashboard, they enter a multi-step wizard
that guides them through creating a complete video project.

### ENTRY POINT
- Dashboard "New Project" card click â†’ Navigate to /create/project
- Pass the prompt text from the Dashboard input as initial context

### PAGE LAYOUT (/create/project)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [â† Back to Dashboard]              Create New Project              [Cancel]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                            â”‚                                                â”‚
â”‚   BUBBLE PANEL             â”‚           STEP CONTENT                         â”‚
â”‚   (Left sidebar)           â”‚           (Main area)                          â”‚
â”‚                            â”‚                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   Content changes based on current step:       â”‚
â”‚  â”‚                      â”‚  â”‚   - Platform: New/Existing selection           â”‚
â”‚  â”‚  AI chat that guides â”‚  â”‚   - Brief: Project details form                â”‚
â”‚  â”‚  user through each   â”‚  â”‚   - Mood: Visual references upload/generate   â”‚
â”‚  â”‚  step, asks          â”‚  â”‚   - Story: Narrative structure builder         â”‚
â”‚  â”‚  clarifying Qs       â”‚  â”‚   - Shots: Claude-generated shot list          â”‚
â”‚  â”‚                      â”‚  â”‚   - Film: Per-shot media creation              â”‚
â”‚  â”‚                      â”‚  â”‚   - Audio: VO, music, SFX                      â”‚
â”‚  â”‚                      â”‚  â”‚   - Review: Final confirmation                 â”‚
â”‚  â”‚                      â”‚  â”‚                                                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                                                â”‚
â”‚                            â”‚                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                                                â”‚
â”‚  â”‚ ğŸ¤ â”‚ Ask Bubble...   â”‚  â”‚                                                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â—‹ Platform â†’ â—‹ Brief â†’ â—‹ Mood â†’ â—‹ Story â†’ â—‹ Shots â†’ â—‹ Film â†’ â—‹ Audio â†’ â—‹ âœ“â”‚
â”‚      ğŸ¯          ğŸ“        ğŸ¨       ğŸ“–        ğŸ¬        ğŸ¥        ğŸ”Š       âœ¨  â”‚
â”‚                         STEP TIMELINE (bottom nav)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### PRODUCTION PHASES (Steps)

**1. PLATFORM (ğŸ¯)**
- Title: "Create New Project"
- Subtitle: "Select New or Existing Platform"
- Two cards: "New Platform" | "Existing Platform"
- If existing: Show grid of saved platforms to select

**2. BRIEF (ğŸ“)**
- Title: "Project Brief"
- Form fields: Project name, description, target audience, tone/mood, duration goal
- Bubble asks clarifying questions based on initial prompt

**3. MOOD BOARD (ğŸ¨)**
- Title: "Visual Direction"
- Upload reference images or generate with AI
- Color palette picker
- Style keywords/tags

**4. STORYBOARD (ğŸ“–)**
- Title: "Story Structure"
- Narrative arc builder (beginning, middle, end)
- Key moments/beats
- Bubble helps structure based on brief

**5. SCENES & SHOTS (ğŸ¬)**
- Title: "Shot List"
- Claude generates shot list based on storyboard
- Each shot has: description, duration, shot type, notes
- User can edit/add/remove shots
- Confirm shot list before proceeding

**6. FILMING (ğŸ¥)** - Dynamic, loops through shots
- Title: "Shot X of Y"
- For each shot, show 3 options:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  ğŸ¨ GENERATE    â”‚  â”‚  ğŸ“ FROM ASSETS â”‚  â”‚  ğŸ“¤ UPLOAD      â”‚
  â”‚  AI prompt      â”‚  â”‚  Asset library  â”‚  â”‚  From computer  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
- Preview generated/selected media
- Regenerate or swap options
- Progress indicator: "Shot 3 of 12"

**7. AUDIO (ğŸ”Š)** - Sub-steps
- Voiceover (per scene, optional)
- Soundtrack (project music)
- Sound Effects (as needed)
- Same Generate/Library/Upload pattern

**8. REVIEW & CONFIRM (âœ¨)**
- Summary of all created content
- Preview thumbnails of shots
- Audio tracks listed
- "Create Project" button â†’ Claude assembles raw edit
- Navigate to Workspace (/project/:id)

### COMPONENTS TO BUILD

1. **Pages:**
   - `src/pages/CreateProjectWizard.tsx` - main wizard page

2. **Wizard Components:**
   - `src/components/create/StepTimeline.tsx` - bottom nav with step icons
   - `src/components/create/BubblePanel.tsx` - left sidebar chat
   - `src/components/create/steps/PlatformStep.tsx`
   - `src/components/create/steps/BriefStep.tsx`
   - `src/components/create/steps/MoodBoardStep.tsx`
   - `src/components/create/steps/StoryboardStep.tsx`
   - `src/components/create/steps/ShotsStep.tsx`
   - `src/components/create/steps/FilmingStep.tsx`
   - `src/components/create/steps/AudioStep.tsx`
   - `src/components/create/steps/ReviewStep.tsx`

3. **Shared Components:**
   - `src/components/create/AssetPicker.tsx` - Generate/Library/Upload cards
   - `src/components/create/MediaPreview.tsx` - preview images/video/audio

4. **State:**
   - `src/state/projectWizardStore.ts` - Zustand store for wizard state

5. **Routing:**
   - Add `/create/project` route to App.tsx
   - Wire up navigation from Dashboard

### STYLING
- Use existing sky blue accent colors (see Color System in SYSTEM_DESIGN.md)
- Dark theme (zinc-900, zinc-950 backgrounds)
- Consistent with Dashboard components
- Step timeline uses icons with labels
- Active step highlighted with sky-500
- Completed steps show checkmark

### STATE STRUCTURE (Zustand)
```typescript
interface ProjectWizardState {
  // Navigation
  currentStep: 'platform' | 'brief' | 'mood' | 'story' | 'shots' | 'filming' | 'audio' | 'review'

  // Initial context from Dashboard
  initialPrompt: string

  // Step data
  platform: { type: 'new' | 'existing', platformId?: string } | null
  brief: { name: string, description: string, audience: string, tone: string, duration: string } | null
  moodBoard: { images: Asset[], colors: string[], keywords: string[] } | null
  storyboard: { acts: Act[] } | null
  shots: Shot[] | null

  // Filming progress
  filmingProgress: { currentShotIndex: number, completedShots: string[] }
  shotMedia: Record<string, Asset> // shotId -> asset

  // Audio
  audio: { voiceovers: Asset[], soundtrack: Asset | null, sfx: Asset[] }

  // Actions
  setStep: (step: string) => void
  updateBrief: (data: Partial<Brief>) => void
  // ... etc
}
```

### START WITH
1. Create the Zustand store
2. Create the wizard page with layout (BubblePanel + main content + StepTimeline)
3. Build PlatformStep first (simplest step)
4. Add routing and wire up Dashboard navigation
5. Test the flow, then build remaining steps

Use placeholder content/mock data for Bubble responses until LLM integration is added.
```

---

## L-1. COLOR SYSTEM

### Brand Colors (Sky Blue Theme)

The Dream Cloud Studio brand uses a **sky blue gradient** as the primary accent color, evoking clouds and creativity.

```
Primary Accent Gradient:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  from-sky-400 â†’ via-sky-500 â†’ to-blue-600                   â”‚
â”‚  Direction: bg-gradient-to-br (diagonal, top-left to        â”‚
â”‚             bottom-right) for "cloudy sky" effect           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Hover State:
  from-sky-300 â†’ via-sky-400 â†’ to-blue-500 (lighter)
```

### Tailwind Color Tokens

| Use Case | Color Class | Hex Approx |
|----------|-------------|------------|
| **Primary gradient start** | `sky-400` | #38bdf8 |
| **Primary gradient mid** | `sky-500` | #0ea5e9 |
| **Primary gradient end** | `blue-600` | #2563eb |
| **Accent text** | `sky-400` | #38bdf8 |
| **Accent text hover** | `sky-300` | #7dd3fc |
| **Focus ring** | `sky-500` | #0ea5e9 |
| **Progress bar** | `sky-500` | #0ea5e9 |
| **Shadow tint** | `sky-900/20` | rgba |
| **Warning (near limit)** | `amber-500` | #f59e0b |
| **Error/destructive** | `red-400` | #f87171 |

### Usage Guidelines

**Buttons (Primary CTA):**
```
bg-gradient-to-br from-sky-400 via-sky-500 to-blue-600
hover:from-sky-300 hover:via-sky-400 hover:to-blue-500
shadow-lg shadow-sky-900/20
hover:shadow-sky-900/30
```

**Text Links/Actions:**
```
text-sky-400 hover:text-sky-300
```

**Focus States:**
```
focus:ring-2 focus:ring-sky-500
```

**Progress Indicators:**
```
[&>div]:bg-sky-500  (normal)
[&>div]:bg-amber-500 (warning, â‰¥80%)
```

### Background Colors (Dark Theme)

| Element | Color |
|---------|-------|
| App background | `zinc-950` (#09090b) |
| Card/surface | `zinc-900` |
| Elevated surface | `zinc-800` |
| Border | `zinc-800` or `zinc-800/50` |
| Muted text | `zinc-400` / `zinc-500` |
| Primary text | `zinc-100` / `white` |

### Do's and Don'ts

**DO:**
- Use sky blue gradient for primary CTAs
- Use `sky-400` for accent text and links
- Use `sky-500` for focus rings and progress bars
- Maintain dark backgrounds (`zinc-950`, `zinc-900`)

**DON'T:**
- Use violet/purple (deprecated from v2)
- Use bright backgrounds in dark mode
- Mix multiple accent color families

---

## L-2. V3 SANITY CHECK

| # | Requirement | Verified |
|---|-------------|----------|
| 1 | Dark mode native | âœ“ `theme: 'dark'` only in UserPreferences |
| 2 | Voice input with transcription | âœ“ VoiceInputConfig + UI spec + Whisper integration |
| 3 | Claude Code runs Bubble | âœ“ BubbleAgent with full tool access |
| 4 | User accounts via Supabase Auth | âœ“ User schema with Supabase auth |
| 5 | Usage tracking in Supabase | âœ“ usage_periods + usage_events tables |
| 6 | Subscriptions via website API | âœ“ No Stripe in app. Checks dreamcloudclub.org API |
| 7 | Plans: Trial (7d), Lite ($20), Basic ($100), Enterprise ($500/3 seats) | âœ“ PLAN_LIMITS defined |
| 8 | Canva-style dashboard | âœ“ Dashboard UI with projects, assets, foundations |
| 9 | Dual workflow (project vs standalone) | âœ“ Two workflow diagram + separate UIs |
| 10 | Standalone asset creation | âœ“ Asset type picker + mini workflow + Bubble playbook |
| 11 | Assets can be unattached to projects | âœ“ `projectId: string | null` on Asset |
| 12 | Dashboard exit from project | âœ“ `[â† Dashboard]` button in project header |
| 13 | Recent assets on dashboard | âœ“ Dashboard UI shows recent assets row |
| 14 | All Assets browsable from dashboard | âœ“ `[View All â†’]` link on assets row |
| 15 | Unified Create New flow | âœ“ Single button â†’ Project or Asset â†’ New or Existing Foundation |
| 16 | Foundation choice for both Project AND Asset | âœ“ Same 2-option flow for both paths |
| 17 | Bottom nav only in project context | âœ“ Explicitly noted in layout |
| 18 | Editor remains center of project workflow | âœ“ Position 4 of 7 in bottom nav |
| 19 | Voiceover still scene-level only | âœ“ Not changed from v2 |
| 20 | Desktop app (not web) | âœ“ Tauri for Windows/macOS/Linux |
| 21 | Free download from website | âœ“ Distribution model documented |
| 22 | Graceful offline handling | âœ“ App works until API action, then shows connection modal |

---

## M. TECH STACK (Updated)

### Desktop Application

This is a **free downloadable desktop app** available for Windows, macOS, and Linux from `dreamcloudclub.org`.

| Layer | Technology |
|-------|------------|
| Desktop Shell | Tauri 2.0 (Rust + WebView) |
| UI Framework | React + Vite |
| UI Components | Tailwind CSS + shadcn/ui (dark theme) |
| Brand Colors | Sky blue gradient (see Color System below) |
| State | Zustand |
| Database | Supabase (Postgres) |
| File Storage | Supabase Storage |
| Local Cache | File system (asset cache, renders) |
| Auth | Supabase Auth (Google, GitHub, Email) |
| Subscriptions | Dream Cloud Website API |
| **Agent (Core)** | **Claude API (Anthropic) â€” Bubble** |
| Voice Input | System microphone + Whisper API |
| Image Gen | Replicate (SDXL / FLUX) |
| Video Gen | Runway / Pika / Kling |
| Audio Gen | Stable Audio / Suno |
| TTS | ElevenLabs / OpenAI TTS |
| Video Assembly | FFmpeg (local) |

### Distribution

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          DISTRIBUTION MODEL                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   DREAM CLOUD WEBSITE (dreamcloudclub.org)                                  â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  DOWNLOAD PAGE                                                      â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  Dream Cloud Studio - Free Download                                 â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚  â”‚
â”‚   â”‚  â”‚  Windows    â”‚  â”‚   macOS     â”‚  â”‚   Linux     â”‚                 â”‚  â”‚
â”‚   â”‚  â”‚  .exe       â”‚  â”‚   .dmg      â”‚  â”‚  .AppImage  â”‚                 â”‚  â”‚
â”‚   â”‚  â”‚  [Download] â”‚  â”‚  [Download] â”‚  â”‚  [Download] â”‚                 â”‚  â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  Free trial: 7 days                                                â”‚  â”‚
â”‚   â”‚  Plans: Lite $20/mo â”‚ Basic $100/mo â”‚ Enterprise $500/mo          â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚   User downloads app â†’ Opens app â†’ Signs in with email â†’ App checks         â”‚
â”‚   subscription status via API â†’ User creates videos                         â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Why Tauri?

- **Small binary size** (~10MB vs Electron's ~150MB)
- **Native performance** (Rust backend)
- **System webview** (no bundled Chromium)
- **Cross-platform** (Windows, macOS, Linux)
- **File system access** for local asset storage
- **FFmpeg integration** for video processing

### Graceful Offline Handling

App functions normally until user attempts an action requiring internet. Then show a friendly modal.

**Works Offline:**
- Browse dashboard, projects, assets (cached)
- Navigate UI, view settings
- View previously loaded project content
- Preview cached assets
- Render/export using cached assets (FFmpeg)

**Requires Internet (shows modal on attempt):**
- Bubble conversation (Claude API)
- Asset generation (Replicate, Runway, etc.)
- Save/sync to cloud (Supabase)
- Subscription check (Website API)
- Load new projects from cloud

### Connection Required Modal

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                 â”‚
â”‚                    ğŸŒ  Connection Required                      â”‚
â”‚                                                                 â”‚
â”‚     This action requires an internet connection.                â”‚
â”‚                                                                 â”‚
â”‚     Please check your connection and try again.                 â”‚
â”‚                                                                 â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚     â”‚  â—‹  Connected    â—  Not Connected                   â”‚    â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                 â”‚
â”‚              [Settings â†’]              [Try Again]              â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Settings > Connection

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Settings > Connection                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  STATUS                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Internet:        â— Connected                           â”‚   â”‚
â”‚  â”‚  Supabase:        â— Connected                           â”‚   â”‚
â”‚  â”‚  Claude API:      â— Connected                           â”‚   â”‚
â”‚  â”‚  Subscription:    â— Active (Basic)                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  TROUBLESHOOTING                                                â”‚
â”‚  â€¢ Check your Wi-Fi or ethernet connection                      â”‚
â”‚  â€¢ Try disabling VPN if enabled                                 â”‚
â”‚  â€¢ Firewall may be blocking: api.anthropic.com, supabase.co    â”‚
â”‚                                                                 â”‚
â”‚                                        [Test Connection]        â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Connection Check Flow

```typescript
// Check before any API call
async function requiresConnection<T>(
  action: () => Promise<T>,
  actionName: string
): Promise<T> {
  if (!navigator.onLine) {
    showConnectionModal(actionName);
    throw new ConnectionRequiredError(actionName);
  }

  try {
    return await action();
  } catch (error) {
    if (isNetworkError(error)) {
      showConnectionModal(actionName);
      throw new ConnectionRequiredError(actionName);
    }
    throw error;
  }
}

// Usage
await requiresConnection(
  () => bubble.sendMessage(userInput),
  'Talk to Bubble'
);
```

---

*v3 ready for implementation.*
